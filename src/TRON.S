; Generated by c68 v4.4.5, 25 Jan 95 (Jan 25 1995) from "Tron.c"
	text
L3:
	dc.b	97,0
L2:
	dc.b	119,0
L1:
	dc.b	108,111,103,46,116,120,116,0
	even
_main:
	link	a6,#-20
	movem.l	d3/d4/a3/a4,-(a7)
	lea	-10(a6),a0
	move.l	a0,d4
	lea	-4(a6),a3
	lea	_install_vector,a4
	;line	45
	pea	_trap70_isr
	move.w	#70,-(a7)
	jsr	(a4)
	addq.l	#6,a7
	move.l	d0,-16(a6)
	pea	_trap28_isr
	move.w	#28,-(a7)
	jsr	(a4)
	addq.l	#6,a7
	move.l	d0,-20(a6)
	;line	45
	clr.w	_rndrRqst
	;line	46
	pea	L2
	pea	L1
	jsr	_fopen
	addq.l	#8,a7
	move.l	d0,_f
	;line	47
	move.l	_f,-(a7)
	jsr	_fclose
	addq.l	#4,a7
	;line	48
	pea	L3
	pea	L1
	jsr	_fopen
	addq.l	#8,a7
	move.l	d0,_f
	;line	50
	jsr	_initKeyboard
	;line	51
	moveq	#0,d3
	move.l	d4,a0
	move.w	d3,(a0)
	;line	52
	pea	-8(a6)
	move.l	a3,-(a7)
	move.l	d4,-(a7)
	jsr	_getScreen
	lea	12(a7),a7
	;line	53
	move.l	d4,a0
	move.w	#1,(a0)
	;line	54
	moveq	#0,d3
	;line	55
	pea	0
	jsr	_time
	addq.l	#4,a7
	move.w	d0,-(a7)
	jsr	_srand
	addq.l	#2,a7
	;line	56
	bra	L5
L4:
	;line	57
	jsr	_menuInit
	;line	58
	move.l	-8(a6),-(a7)
	move.l	(a3),-(a7)
	move.l	d4,-(a7)
	jsr	_menuLoop
	lea	12(a7),a7
	move.w	d0,d3
	;line	59
	tst.w	d3
	bne	L7
	;line	60
	jsr	_init
	;line	61
	move.l	-8(a6),-(a7)
	move.l	(a3),-(a7)
	move.l	d4,-(a7)
	jsr	_gameLoop
	lea	12(a7),a7
L7:
L5:
	tst.w	d3
	beq	L4
L6:
	;line	64
	move.l	(a3),-(a7)
	jsr	_setBuffer
	addq.l	#4,a7
	;line	65
	move.l	-16(a6),-(a7)
	move.w	#70,-(a7)
	jsr	(a4)
	addq.l	#6,a7
	;line	66
	move.l	-20(a6),-(a7)
	move.w	#28,-(a7)
	jsr	(a4)
	movem.l	-36(a6),d3/d4/a3/a4
	unlk	a6
	rts
_gameLoop:
	link	a6,#-4
	movem.l	d3/d4/a3,-(a7)
	lea	_model,a3
	;line	72
	moveq	#0,d3
	moveq	#0,d4
	;line	72
	bra	L9
L8:
	;line	73
	jsr	_doReset
	;line	74
	jsr	_render
	;line	75
	move.l	16(a6),-(a7)
	move.l	12(a6),-(a7)
	move.l	8(a6),-(a7)
	jsr	_toggleScreen
	lea	12(a7),a7
	;line	76
	jsr	_render
L11:
	;line	78
	tst.w	_keyWaiting
	beq	L14
	;line	79
	jsr	_onKey
	move.w	d0,d3
L14:
	;line	80
	tst.w	_rndrRqst
	beq	L15
	;line	81
	move.l	16(a6),-(a7)
	move.l	12(a6),-(a7)
	move.l	8(a6),-(a7)
	jsr	_toggleScreen
	lea	12(a7),a7
	;line	82
	jsr	_rndr_fld
	;line	83
	tst.w	216(a3)
	bne	L18
	tst.w	76(a3)
	beq	L16
L18:
	moveq	#1,d0
	bra	L17
L16:
	moveq	#0,d0
L17:
	move.w	d0,d4
	;line	84
	clr.w	_rndrRqst
L15:
L12:
	tst.w	d3
	bne	L19
	tst.w	d4
	beq	L11
L19:
L13:
L9:
	tst.w	d3
	bne	L20
	tst.w	72(a3)
	ble	L21
	tst.w	212(a3)
	bgt	L8
L21:
L20:
L10:
	movem.l	-16(a6),d3/d4/a3
	unlk	a6
	rts
_getTime:
	link	a6,#-12
	;line	101
	move.l	#1122,-4(a6)
	pea	0
	move.w	#32,-(a7)
	jsr	__trap_1_wl
	addq.l	#6,a7
	move.l	d0,-8(a6)
	;line	101
	move.l	-4(a6),a0
	move.l	(a0),-12(a6)
	;line	102
	move.l	-8(a6),-(a7)
	move.w	#32,-(a7)
	jsr	__trap_1_wl
	;line	103
	move.l	-12(a6),d0
L22:
	unlk	a6
	rts
_getScreen:
	link	a6,#-4
	;line	108
	pea	0
	move.w	#32,-(a7)
	jsr	__trap_1_wl
	addq.l	#6,a7
	move.l	d0,-4(a6)
	;line	108
	move.w	#2,-(a7)
	jsr	__trap_14_w
	addq.l	#2,a7
	move.l	12(a6),a0
	move.l	d0,(a0)
	;line	109
	move.l	12(a6),a0
	move.l	(a0),-(a7)
	jsr	_myPhysBase
	addq.l	#4,a7
	;line	110
	move.l	-4(a6),-(a7)
	move.w	#32,-(a7)
	jsr	__trap_1_wl
	addq.l	#6,a7
	;line	111
	move.l	#_framebuffer2,d0
	add.l	#255,d0
	and.l	#-256,d0
	move.l	16(a6),a0
	move.l	d0,(a0)
	;line	112
	move.l	16(a6),a0
	move.l	(a0),_base
	;line	113
	move.l	8(a6),a0
	move.w	#1,(a0)
	;line	114
	move.l	_base,-(a7)
	jsr	_setBuffer
	unlk	a6
	rts
_setBuffer:
	link	a6,#-4
	;line	119
	pea	0
	move.w	#32,-(a7)
	jsr	__trap_1_wl
	addq.l	#6,a7
	move.l	d0,-4(a6)
	;line	119
	move.l	8(a6),-(a7)
	jsr	_mySetScreen
	addq.l	#4,a7
	;line	120
	move.l	-4(a6),-(a7)
	move.w	#32,-(a7)
	jsr	__trap_1_wl
	unlk	a6
	rts
_toggleScreen:
	link	a6,#-4
	move.l	a3,-(a7)
	move.l	8(a6),a3
	;line	125
	pea	0
	move.w	#32,-(a7)
	jsr	__trap_1_wl
	addq.l	#6,a7
	move.l	d0,-4(a6)
	;line	125
	tst.w	(a3)
	beq	L23
	;line	126
	move.l	16(a6),-(a7)
	jsr	_mySetScreen
	addq.l	#4,a7
	;line	127
	move.l	12(a6),_base
	bra	L24
L23:
	;line	130
	move.l	12(a6),-(a7)
	jsr	_mySetScreen
	addq.l	#4,a7
	;line	131
	move.l	16(a6),_base
L24:
	;line	133
	move.l	-4(a6),-(a7)
	move.w	#32,-(a7)
	jsr	__trap_1_wl
	;line	134
	tst.w	(a3)
	seq	d0
	and.w	#1,d0
	move.w	d0,(a3)
	move.l	-8(a6),a3
	unlk	a6
	rts
_doReset:
	link	a6,#0
	;line	138
	move.l	8(a6),-(a7)
	jsr	_reset
	addq.l	#4,a7
	;line	139
	move.l	8(a6),-(a7)
	jsr	_matchStart
	unlk	a6
	rts
_onKey:
	link	a6,#-8
	move.l	d3,-(a7)
	;line	157
	moveq	#0,d3
	;line	157
	pea	-7(a6)
	jsr	_getKey
	addq.l	#4,a7
	;line	158
	move.b	-7(a6),d0
	subq.b	#1,d0
	beq	L26
	sub.b	#74,d0
	beq	L27
	subq.b	#2,d0
	beq	L28
	addq.b	#5,d0
	beq	L29
	subq.b	#8,d0
	beq	L30
	bra	L25
L26:
	;line	160
	moveq	#1,d3
	;line	161
	bra	L25
L27:
L28:
L29:
L30:
	;line	166
	pea	_model+8
	clr.w	d0
	move.b	-7(a6),d0
	move.w	d0,-(a7)
	jsr	_maneuver
L25:
	;line	170
	move.w	d3,d0
L31:
	move.l	-12(a6),d3
	unlk	a6
	rts
_getKey:
	link	a6,#-4
L32:
L33:
	;line	176
	tst.w	_keyWaiting
	beq	L32
L34:
	;line	178
	pea	0
	move.w	#32,-(a7)
	jsr	__trap_1_wl
	addq.l	#6,a7
	move.w	d0,-2(a6)
	;line	179
	move.w	#7,-(a7)
	jsr	_set_ipl
	addq.l	#2,a7
	move.w	d0,-4(a6)
	;line	180
	clr.l	d0
	move.b	_tail,d0
	move.l	d0,a0
	add.l	#_buffer,a0
	move.l	8(a6),a1
	move.b	(a0),(a1)
	;line	181
	move.b	_head,d0
	cmp.b	_tail,d0
	seq	d0
	and.w	#1,d0
	move.w	d0,_keyWaiting
	;line	182
	addq.b	#1,_head
	;line	183
	move.w	-4(a6),-(a7)
	jsr	_set_ipl
	addq.l	#2,a7
	;line	184
	move.w	-2(a6),d0
	ext.l	d0
	move.l	d0,-(a7)
	move.w	#32,-(a7)
	jsr	__trap_1_wl
	unlk	a6
	rts
	globl	_getTime
	globl	_gameLoop
	globl	_onKey
	globl	_getScreen
	globl	_setBuffer
	globl	_toggleScreen
	globl	_doReset
	globl	_getKey
	bss
_framebuffer2:
	ds.b	32255
	globl	_framebuffer2
	globl	_main
